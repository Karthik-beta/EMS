<nav class="navbar navbar-expand-md navbar-light bg-white shadow-sm mb-2">
  <div class="container-fluid">
    <a routerLink="/admin" class="navbar-brand">
      <img src="assets/images/Magnum.png" alt="" width="150" height="40">
    </a>

    <ul class="navbar-nav me-auto mb-2 mb-md-0">
      <li class="nav-item">
        <a routerLink="/admin" class="nav-link">Dashboard</a>
      </li>

      <li class="nav-item">
        <a routerLink="/andon" class="nav-link">Andon Help</a>
      </li>
    </ul>

    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a routerLink="/login" class="nav-link">Logout</a>
      </li>
    </ul>
  </div>
</nav>





<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-md-1">
      <div class="mt-1 card-top ">
        <img class="siren-icon siren-icon-left" src="https://img.icons8.com/ios-filled/100/40C057/siren.png" alt="siren" width="70" height="100" />
      </div>
    </div>
    <div class="col-md-3">
      <div class="shadow mt-1 card-top teal rounded">
        <!-- Your content goes here -->
        <p style="font-weight: bolder;">Plant</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">Pune</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="shadow mt-1 card-top green rounded">
        <!-- Your content goes here -->
        <p style="font-weight: bolder;">Shop Floor</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">Piston</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="shadow mt-1 card-top gray rounded" >
        <!-- Your content goes here -->
        <p style="font-weight: bolder;">Machine ID</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">{{ selectedMachineId }}</p>
      </div>
    </div>
    <div class="col-md-1">
      <div class="mt-1 card-top ">
        <img class="siren-icon siren-icon-right" src="https://img.icons8.com/ios-filled/100/40C057/siren.png" alt="siren" width="70" height="100" />
      </div>
    </div>
  </div>
  <div class="row justify-content-between">
    <div class="col-md-3">
      <div class="shadow mt-1 card-down blue rounded">
        <!-- Your content goes here -->
        <p style="font-weight: bolder;">Machine Running</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">00:00</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="shadow mt-1 card-down yellow rounded">
        <!-- Your content goes here -->
        <p style="font-weight: bolder;">Machine Idle</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">00:00</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="shadow mt-1 card-down purple rounded">
        <!-- Your content goes here -->
        <p style="font-weight: bolder; ">Production Target</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">00:00</p>
      </div>
    </div>
    <div class="col-md-3">
      <div class="shadow mt-1 card-down lightblue rounded">
        <!-- Your content goes here -->
        <p style="font-weight: bolder;">Production Achieved</p>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; color: black;">00:00</p>
      </div>
    </div>
    <div>
    </div>
  </div>
</div>



<div class="container-fluid mt-1">
  <div class="row">
    <div class="col-12">
      <div class="container-wide">


        <div class="scale">
          <p>{{ getShiftText() }}</p>
        </div>

        <div class="progress">
          <div class="progress-bar progress-bar-green" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%">240 min</div>
          <div class="progress-bar progress-bar-red" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 30%">144 min</div>
          <div class="progress-bar progress-bar-yellow" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 10%">48min</div>
          <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 10%">48 min</div>
        </div>

        <div class="bar-info">
          <div class="bar-info-item">Running</div>
          <div class="bar-info-item">Mechanical Faliure</div>
          <div class="bar-info-item">Electrical Failure</div>
          <div class="bar-info-item">Other</div>
        </div>

      </div>
    </div>
  </div>
</div>



<!-- <div class="container-fluid mt-1">
  <div class="row">
    <div class="col-12">
      <div class="container-wide">


        <div class="scale">
          <p>Shift B : 2:00 PM to 10 PM </p>
        </div>

        <div class="progress">
          <div class="progress-bar progress-bar-green" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="width: 50%">240 min</div>
          <div class="progress-bar progress-bar-red" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 30%">144 min</div>
        </div>
        <div class="progress">
          <p>Breakdown : <br></p>
          <div class="progress-bar progress-bar-yellow" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 10%">48min</div>
          <div class="progress-bar progress-bar-blue" role="progressbar" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100" style="width: 10%">48 min</div>
        </div>

        <div class="bar-info">
          <div class="bar-info-item">Running</div>
          <div class="bar-info-item">Breakdown</div>
          <div class="bar-info-item">Mechanical Faliure</div>
          <div class="bar-info-item">Electrical Failure</div>
        </div>

      </div>
    </div>
  </div>
</div> -->



<div class="container-fluid mt-2">
  <!-- <div class="table-responsive"> -->
  <div class="search-bar">
    <input [(ngModel)]="searchText" class="form-control"
  (keyup)="filterData()" placeholder="Search">
  </div>
</div>
<div class="container-fluid mt-2">
  <div class="row">
    <div class="col-12">
      <div class="container-wide2">
        <div class="table-container">
          <div class="table-header">
            <div class="table-cell">Start<br> M/C</div>
            <div class="table-cell">Ticket</div>
            <div class="table-cell">Login</div>
            <div class="table-cell">Machine ID</div>
            <div class="table-cell">Category</div>
            <div class="table-cell">Sub-Category</div>
            <div class="andon-alert">Andon <br>Alert</div>
            <div class="andon-acknowledge">Andon <br>Acknowledge</div>
            <div class="andon-resolved">Andon<br> Resolved</div>
            <div class="total-breakdown">Total <br>Breakdown</div>
          </div>
          <div class="table-row" *ngFor="let dataItem of andonList; let i = index">
            <div class="table-cell"><img src="assets/images/power.png" alt="" width="40" height="40"></div>
            <div class="table-cell">{{ dataItem.ticket }}</div>
            <div class="table-cell"></div>
            <div class="table-cell machine-id">
              <div>
                <select class="form-control" placeholder="Select Options" [(ngModel)]="selectedMachineId" (change)="onColumnChange(i)">
                  <option value="" disabled selected>-Select-</option>
                  <option>2345</option>
                  <option>4456</option>
                  <option>5643</option>
                </select>
              </div>
            </div>
            <div class="table-cell category">
              <div>
                <select class="form-control" placeholder="Select Options" [(ngModel)]="andonList[i].category" (change)="onCategoryChange(i)" (change)="onColumnChange(i)">
                  <option value="" disabled selected>--Select--</option>
                  <option>Mechanical</option>
                  <option>Electrical</option>
                  <option>Others</option>
                </select>
              </div>
            </div>
            <div class="table-cell sub-category">
              <div *ngIf="andonList[i].category === 'Mechanical'" >
                <select class="form-control" placeholder="Select Options" [(ngModel)]="andonList[i].sub_category" (change)="onColumnChange(i)">
                  <option value="" disabled selected>--Select--</option>
                  <option>Mech-1</option>
                  <option>Mech-2</option>
                  <option>Mech-3</option>
                </select>
              </div>
              <div *ngIf="andonList[i].category === 'Electrical'" >
                <select class="form-control" placeholder="Select Options" [(ngModel)]="andonList[i].sub_category" (change)="onColumnChange(i)">
                  <option value="" disabled selected>--Select--</option>
                  <option>Elec-1</option>
                  <option>Elec-2</option>
                  <option>Elec-3</option>
                </select>
              </div>
              <div *ngIf="andonList[i].category === 'Others'">
                <select class="form-control" placeholder="Select Options" [(ngModel)]="andonList[i].sub_category" (change)="onColumnChange(i)">
                  <option value="" disabled selected>--Select--</option>
                  <option>Other-1</option>
                  <option>Other-2</option>
                  <option>Other-3</option>
                </select>
              </div>
            </div>
            <div class="table-cell andon-alert">
              <button class="raise-alert-button" (click)="toggleAndonAlert(i)" [ngClass]="{ 'raised': andonAlertsToggled[i] }">
                {{ getAndonAlertText(i)  }}
              </button>
            </div>
            <div class="table-cell andon-acknowledge">
              <button class="raise-acknowledge-button" (click)="toggleAndonAcknowledge(i)" [ngClass]="{ 'raised': andonAcknowledgeToggled[i] }">
                {{ getAndonAcknowledgeText(i) }}
                </button>
            </div>
            <div class="table-cell andon-resolved">
              <button class="raise-resolved-button" (click)="toggleAndonResolved(i)" [ngClass]="{ 'raised': andonResolvedToggled[i] }">
                {{ getAndonResolvedText(i) }}
              </button>
            </div>
            <div class="table-cell total-breakdown">
              {{ formatTotalBreakdownTime(totalBreakdownTime[i]) }}
            </div>
          </div>
          <!-- Add more rows as needed -->
        </div>
      </div>
    </div>
  </div>
</div>
